<div class="max-w-7xl mx-auto px-6 py-12">
  <!-- Back Button -->
  <%= link_to "← Back", root_path, class: "text-orange-500 font-semibold mb-6 inline-block" %>

  <!-- Main Category Heading -->
  <h1 class="text-3xl font-bold mb-4">
    <%= @selected_category&.name || "All Foods" %>
  </h1>

  <!-- Subcategories Navigation -->
  <% if @subcategories.any? %>
    <div class="flex gap-4 mb-8 overflow-x-auto">
      <% @subcategories.each do |subcat| %>
        <%= link_to subcat.name,
            public_category_foods_path(@selected_category, subcategory_id: subcat.slug),
            data: { turbo_frame: "foods_frame" },
            class: "px-4 py-2 rounded-full font-semibold border transition
                   #{subcat == @selected_subcategory ? 'bg-orange-500 text-white border-orange-500' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-orange-100'}" %>
      <% end %>
    </div>
  <% end %>

  <!-- Foods Grid -->
  <turbo-frame id="foods_frame">
    <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      <% @foods.each do |food| %>
        <%= render "food_card", food: food %>
      <% end %>

      <% if @foods.blank? %>
        <p class="text-gray-500 col-span-full">No foods available in this subcategory.</p>
      <% end %>
    </div>

   

<%= render "carts/cart_count" %>


  </turbo-frame>
</div>
