<h1 class="text-3xl font-bold text-center mb-6 text-gray-800">My Orders</h1>

<div class="mb-6">
  <%= link_to "← Back to Food", foods_path, class: "bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded" %>
</div>

<% if @orders.any? %>
  <div class="space-y-6">
    <% @orders.each do |order| %>
      <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
        <p class="mb-2"><strong>Order ID:</strong> <%= order.id %></p>

        <p class="mb-2"><strong>Status:</strong>
          <span class="inline-block px-3 py-1 rounded-full text-white font-semibold text-sm
            <%=
              case order.status.downcase
              when "pending" then "bg-yellow-400"
              when "processing" then "bg-blue-400"
              when "delivered" then "bg-green-500"
              else "bg-gray-400"
              end
            %>">
            <%= order.status.capitalize %>
          </span>
        </p>

        <p class="mb-2"><strong>Total:</strong> ₦<%= number_to_currency(order.order_items.sum { |i| i.food.price * i.quantity }, unit: "", precision: 2) %></p>

        <p class="mb-4"><strong>Placed At:</strong> <%= order.created_at.strftime("%B %d, %Y %H:%M") %></p>

        <%= link_to "View Details", order_path(order), class: "bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded" %>
      </div>
    <% end %>
  </div>
<% else %>
  <p class="text-center text-gray-600">You haven't placed any orders yet.</p>
<% end %>
