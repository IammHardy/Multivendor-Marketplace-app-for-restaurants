<div class="min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-lg w-full bg-white shadow-lg rounded-lg p-8 space-y-6">

    <!-- Progress Bar -->
    <%= render "progress_bar", step: 4 %>

    <h2 class="text-2xl font-bold text-gray-700 text-center mb-4">Step 4: Payment & Branding</h2>

    <%= form_with(model: @vendor, url: update_step4_vendor_registration_path, method: :post, local: true, html: { multipart: true, class: "space-y-6" }) do |f| %>

      <!-- Bank Name -->
      <div>
        <%= f.label :bank_name, class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_field :bank_name,
              class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm p-2" %>
      </div>

      <!-- Account Name -->
      <div>
        <%= f.label :account_name, class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_field :account_name,
              class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm p-2" %>
      </div>

      <!-- Account Number -->
      <div>
        <%= f.label :account_number, class: "block text-sm font-medium text-gray-700" %>
        <%= f.text_field :account_number,
              class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm p-2" %>
      </div>

      <!-- Payout Method -->
      <div>
        <%= f.label :payout_method, class: "block text-sm font-medium text-gray-700" %>
        <%= f.select :payout_method, options_for_select([['Bank Transfer', 'bank'], ['PayPal', 'paypal']], @vendor.payout_method),
              { include_blank: 'Select Payout Method' },
              class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm p-2" %>
      </div>

      <!-- Profile Image -->
      <div>
        <%= f.label :profile_image, "Upload Profile Image", class: "block text-sm font-medium text-gray-700" %>
        <%= f.file_field :profile_image, accept: 'image/png,image/jpg,image/jpeg',
              class: "mt-1 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100" %>

        <% if @vendor.persisted? && @vendor.profile_image.attached? %>
  <p class="mt-2 text-gray-500 text-sm">
    Currently uploaded: <%= @vendor.profile_image.filename %>
  </p>
  <%= image_tag @vendor.profile_image.variant(resize_to_limit: [150, 150]),
                class: "mt-2 rounded-md border" %>
<% end %>



      </div>

      <!-- Banner Image -->
      <div>
        <%= f.label :banner_image, "Upload Banner Image", class: "block text-sm font-medium text-gray-700" %>
        <%= f.file_field :banner_image, accept: 'image/png,image/jpg,image/jpeg',
              class: "mt-1 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100" %>
       <% if @vendor.persisted? && @vendor.banner_image.attached? %>
  <p class="mt-2 text-gray-500 text-sm">
    Currently uploaded: <%= @vendor.banner_image.filename %>
  </p>
  <%= image_tag @vendor.banner_image.variant(resize_to_limit: [300, 100]),
                class: "mt-2 rounded-md border w-full object-cover" %>
<% end %>


      </div>

      <!-- Navigation Buttons -->
      <div class="flex justify-between items-center">
        <%= link_to "Back", step3_vendor_registration_path, class: "px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50" %>
        <%= f.submit "Complete Registration", class: "px-6 py-2 rounded-md bg-red-600 text-white font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2" %>
      </div>

    <% end %>
  </div>
</div>
