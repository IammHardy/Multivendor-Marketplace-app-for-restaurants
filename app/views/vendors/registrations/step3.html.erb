<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-orange-100 to-yellow-50 px-6 py-12">
  <div class="max-w-lg w-full bg-white shadow-xl rounded-3xl p-8 sm:p-10 space-y-8">

    <!-- Progress Bar -->
    <%= render "progress_bar", step: 3 %>

    <!-- Heading -->
    <h2 class="text-3xl font-extrabold text-gray-900 text-center">
      Step 3: Compliance & Verification
    </h2>
    <p class="text-center text-gray-600 text-sm">
      Provide your compliance details to verify your account.
    </p>

    <%= form_with(model: @vendor, url: update_step3_vendor_registration_path, method: :post, local: true, html: { multipart: true, class: "space-y-6" }) do |f| %>

      <!-- CAC Number -->
      <div>
        <%= f.label :cac_number, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_field :cac_number, required: true, placeholder: "Enter CAC registration number",
              class: "w-full rounded-full border-gray-300 px-4 py-3 text-gray-800 shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400" %>
      </div>

      <!-- Bio -->
      <div>
        <%= f.label :bio, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_area :bio, maxlength: 500, rows: 4, placeholder: "Tell customers about your business (what you offer, specialties, values)...",
              class: "w-full rounded-lg border-gray-300 px-4 py-3 text-gray-800 shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400" %>
        <p class="text-xs text-gray-500 mt-1">Max 500 characters</p>
      </div>

      <!-- WhatsApp -->
      <div>
        <%= f.label :whatsapp, "WhatsApp Number", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_field :whatsapp, placeholder: "E.g. +234 812 345 6789",
              class: "w-full rounded-full border-gray-300 px-4 py-3 text-gray-800 shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400" %>
      </div>

      <!-- ID Card Upload -->
      <div>
        <%= f.label :id_card, "Upload ID Card", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.file_field :id_card, accept: 'image/png,image/jpg,image/jpeg',
              class: "block w-full text-sm text-gray-700
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-full file:border-0
                      file:text-sm file:font-semibold
                      file:bg-orange-50 file:text-orange-700
                      hover:file:bg-orange-100 transition" %>

        <% if @vendor.id_card.attached? %>
          <p class="mt-2 text-gray-500 text-sm">
            Currently uploaded: <%= @vendor.id_card.filename %>
          </p>
          <%= image_tag @vendor.id_card.variant(resize_to_limit: [200, 200]),
                class: "mt-3 rounded-lg border shadow-sm" %>
        <% end %>
      </div>

      <!-- Navigation Buttons -->
      <div class="flex justify-between items-center pt-4">
        <%= link_to "Back",
              step2_vendor_registration_path,
              class: "px-6 py-2 rounded-full border border-gray-300 text-gray-700 hover:bg-gray-100 transition font-medium" %>
        
        <%= f.submit "Next",
              class: "px-6 py-2 rounded-full bg-[#F97316] hover:bg-orange-600 text-white font-semibold shadow-md transition duration-300" %>
      </div>

    <% end %>
  </div>
</div>
