<%# Floating Cart Button - always visible %>
<%= turbo_frame_tag "floating_cart" do %>
  <div id="floating-cart" class="fixed bottom-6 right-6 z-50">
    <% if current_page?(cart_path) %>
      <!-- Back button on cart page -->
      <%= link_to "â† Back", request.referer || root_path, class: "bg-gray-200 text-gray-800 rounded-full w-16 h-16 flex items-center justify-center shadow-lg hover:bg-gray-300 transition text-center font-bold" %>
    <% else %>
      <!-- Cart button on all other pages -->
      <%= link_to cart_path, class: "bg-orange-500 text-white rounded-full w-16 h-16 flex items-center justify-center shadow-lg hover:bg-orange-600 transition relative" do %>
        ðŸ›’
        <% if current_cart.cart_items.any? %>
          <span class="absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">
            <%= current_cart.cart_items.sum(:quantity) %>
          </span>
        <% end %>
      <% end %>
    <% end %>
  </div>
<% end %>
