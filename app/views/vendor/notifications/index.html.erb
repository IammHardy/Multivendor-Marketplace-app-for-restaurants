<!-- app/views/vendor/notifications/index.html.erb -->

<div class="min-h-screen bg-gray-100">

  <!-- Top Navbar -->
  <nav class="bg-white shadow p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-red-600">Notifications</h1>
    <div>
      <%= link_to "Back to Dashboard", vendor_dashboard_path, class: "text-gray-700 hover:text-red-600 font-medium" %>
    </div>
  </nav>

  <div class="flex">

    <!-- Main Content -->
    <main class="flex-1 p-6">

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

        <% if @notifications.any? %>
          <% @notifications.each do |notification| %>
            <div class="bg-white shadow rounded-lg p-4 hover:shadow-lg transition relative">
              <!-- New badge -->
              <% unless notification.read %>
                <span class="absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded">New</span>
              <% end %>

              <h3 class="text-gray-800 font-semibold mb-2">
                Order #<%= notification.order.id %> from <%= notification.order.name %>
              </h3>

              <p class="text-gray-600 mb-2">
                Total: â‚¦<%= notification.order.total_price %>
              </p>

              <p class="text-gray-500 text-sm mb-2">
                Status: <%= notification.order.status.capitalize %>
              </p>

              <p class="text-gray-400 text-xs">
                <%= notification.created_at.strftime("%b %d, %Y %I:%M %p") %>
              </p>

              <div class="mt-3">
                <%= link_to "View Order", vendor_order_path(notification.order), class: "text-red-600 hover:underline font-medium" %>
              </div>
            </div>
          <% end %>

          <!-- Pagination -->
          <div class="col-span-full mt-6">
            <%= paginate @notifications %>
          </div>

        <% else %>
          <p class="text-gray-500 text-center col-span-full">You have no notifications yet.</p>
        <% end %>

      </div>

    </main>
  </div>
</div>
