<div class="max-w-3xl mx-auto mt-10 p-6 bg-white rounded-lg shadow">
  <h1 class="text-3xl font-bold text-red-600 mb-6">Order Summary</h1>

  <div class="mb-4 space-y-1">
    <p><strong>Name:</strong> <%= @order.name %></p>
    <p><strong>Address:</strong> <%= @order.address %></p>
    <p><strong>Phone:</strong> <%= @order.phone %></p>
    <p><strong>Email:</strong> <%= @order.user&.email %></p>
    <p>
      <strong>Status:</strong>
      <% case @order.status.downcase %>
      <% when "pending" %>
        <span class="text-orange-500 font-semibold">Pending</span>
      <% when "processing" %>
        <span class="text-green-600 font-semibold">Paid</span>
      <% else %>
        <span class="capitalize font-semibold"><%= @order.status %></span>
      <% end %>
    </p>
  </div>

  <h2 class="text-xl font-semibold mb-3">Items</h2>
  <ul class="mb-4 space-y-2">
    <% @order.order_items.each do |item| %>
      <li class="flex justify-between border-b pb-2">
        <span><%= item.food.name %> (x<%= item.quantity %>)</span>
        <span class="font-semibold">₦<%= number_to_currency(item.price * item.quantity, unit: "", precision: 2) %></span>
      </li>
    <% end %>
  </ul>

  <hr class="my-4">

  <p class="text-lg font-bold mb-4">Grand Total: ₦<%= number_to_currency(@order.total_price, unit: "", precision: 2) %></p>

  <div class="flex flex-wrap gap-3 mb-4">
    <% if @order.status.downcase != "processing" %>
      <%= button_to "Mark as Paid", mark_paid_admin_order_path(@order), method: :patch, class: "bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded transition" %>

    <% end %>
    <%= link_to "Delete Order", admin_order_path(@order), method: :delete, data: { confirm: "Are you sure you want to delete this order?" }, class: "bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-6 rounded transition" %>
  </div>

  <%= link_to "Back to Orders", admin_orders_path, class: "bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded transition" %>
</div>
