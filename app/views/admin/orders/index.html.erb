<h1 class="text-2xl font-bold mb-4">All Orders</h1>

<table class="table-auto w-full border">
  <thead>
    <tr class="bg-gray-200">
      <th class="px-4 py-2">Order ID</th>
      <th class="px-4 py-2">Vendor</th>
      <th class="px-4 py-2">Customer</th>
      <th class="px-4 py-2">Total</th>
      <th class="px-4 py-2">Status</th>
      <th class="px-4 py-2">Payment</th>
      <th class="px-4 py-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @orders.each do |order| %>
      <tr class="border-b">
        <td class="px-4 py-2"><%= order.id %></td>
        <td class="px-4 py-2">
  <%= order.vendors.any? ? order.vendors.map(&:name).join(", ") : "N/A" %>
</td>



        <td class="px-4 py-2"><%= order.user.name || order.user.email %></td>
        <td class="px-4 py-2">$<%= order.total_price %></td>
        <td class="px-4 py-2"><%= order.status %></td>
        <td class="px-4 py-2"><%= order.status_paid? ? "Paid" : "Unpaid" %></td>

        <td class="px-4 py-2">
          <%= link_to "View", admin_order_path(order), class: "text-blue-600" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
