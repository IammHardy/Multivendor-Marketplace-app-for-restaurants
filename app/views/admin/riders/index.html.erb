<div class="p-8 bg-gray-50 min-h-screen">
  <h1 class="text-3xl font-extrabold text-orange-600 mb-6">Riders Management</h1>

  <table class="w-full border-collapse bg-white shadow-md rounded-xl overflow-hidden">
    <thead class="bg-orange-500 text-white">
      <tr>
        <th class="py-3 px-4 text-left">Name</th>
        <th class="py-3 px-4 text-left">Email</th>
        <th class="py-3 px-4 text-left">Phone</th>
        <th class="py-3 px-4 text-left">Vehicle</th>
        <th class="py-3 px-4 text-left">Status</th>
        <th class="py-3 px-4 text-left">Verified</th>
        <th class="py-3 px-4 text-center">Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @riders.each do |rider| %>
        <tr class="border-b hover:bg-orange-50">
          <td class="py-3 px-4 font-medium">
            <%= link_to rider.name, admin_rider_path(rider), class: "text-orange-600 hover:underline" %>
          </td>
          <td class="py-3 px-4"><%= rider.email %></td>
          <td class="py-3 px-4"><%= rider.phone %></td>
          <td class="py-3 px-4"><%= rider.vehicle_type.presence || "-" %></td>
          <td class="py-3 px-4 font-semibold">
            <% case rider.status_enum %>
            <% when "active" %>
              <span class="text-green-600">Approved</span>
            <% when "rejected" %>
              <span class="text-red-600">Rejected</span>
            <% when "suspended" %>
              <span class="text-gray-600">Suspended</span>
            <% else %>
              <span class="text-yellow-600">Pending</span>
            <% end %>
          </td>
          <td class="py-3 px-4">
  <% if rider.verified %>
    <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-semibold">Verified</span>
    <%= button_to "Unverify", unverify_admin_rider_path(rider), method: :patch,
        class: "bg-gray-500 text-white px-3 py-1 rounded-lg hover:bg-gray-600 mt-1" %>
  <% else %>
    <span class="bg-gray-100 text-gray-500 px-3 py-1 rounded-full text-sm">Not Verified</span>
    <%= button_to "Verify", verify_admin_rider_path(rider), method: :patch,
        class: "bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600 mt-1" %>
  <% end %>
</td>

          <td class="py-3 px-4 text-center space-x-2">
            <% if rider.status != "active" %>
              <%= button_to "Approve", approve_admin_rider_path(rider), method: :patch,
                  class: "bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600" %>
            <% end %>

            <% if rider.status != "rejected" %>
              <%= button_to "Reject", reject_admin_rider_path(rider), method: :patch,
                  class: "bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600" %>
            <% end %>

            <% if rider.active? %>
              <%= button_to "Suspend", suspend_admin_rider_path(rider), method: :patch,
                  class: "bg-gray-500 text-white px-3 py-1 rounded-lg hover:bg-gray-600" %>
            <% elsif rider.suspended? %>
              <%= button_to "Unsuspend", unsuspend_admin_rider_path(rider), method: :patch,
                  class: "bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-600" %>
            <% end %>
                  
                  <%= button_to "Delete", admin_rider_path(rider),
      method: :delete,
      data: { confirm: "Are you sure you want to delete this rider? This action cannot be undone." },
      class: "bg-red-700 text-white px-3 py-1 rounded-lg hover:bg-red-800" %>

          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
