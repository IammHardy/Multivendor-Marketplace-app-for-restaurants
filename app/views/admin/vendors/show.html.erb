<div class="max-w-4xl mx-auto mt-10 space-y-6">

  <!-- Header -->
  <h2 class="text-3xl font-bold text-gray-700">Vendor Details</h2>

  <!-- Vendor Card -->
  <div class="bg-white shadow-lg rounded-xl p-6 space-y-4">
    
    <!-- Banner -->
    <% if @vendor.banner_image.attached? %>
      <div class="mb-4">
        <%= image_tag @vendor.banner_image.variant(resize_to_limit: [800, 200]), class: "w-full rounded-xl shadow-md object-cover" %>
      </div>
    <% end %>

    <!-- Basic Info -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <p><strong class="text-gray-600">Business Name:</strong> <span class="font-semibold text-gray-800"><%= @vendor.name %></span></p>
        <p><strong class="text-gray-600">Email:</strong> <span class="font-semibold text-gray-800"><%= @vendor.email %></span></p>
        <p><strong class="text-gray-600">Phone:</strong> <span class="font-semibold text-gray-800"><%= @vendor.phone %></span></p>
        <p><strong class="text-gray-600">Joined:</strong> <span class="font-semibold text-gray-800"><%= @vendor.created_at.strftime("%b %d, %Y") %></span></p>
      </div>

      <!-- Status & Profile Image -->
      <div class="flex flex-col items-start md:items-end gap-2">
        <p>
          <strong class="text-gray-600">Status:</strong>
          <% status_color = case @vendor.status
                            when "active" then "bg-green-100 text-green-700"
                            when "pending_approval" then "bg-yellow-100 text-yellow-700"
                            when "rejected" then "bg-red-100 text-red-700"
                            else "bg-gray-100 text-gray-700"
                            end %>
          <span class="px-2 py-1 rounded-full text-sm font-semibold <%= status_color %>">
            <%= @vendor.status.titleize %>
          </span>
        </p>

        <% if @vendor.profile_image.attached? %>
          <%= image_tag @vendor.profile_image.variant(resize_to_limit: [120, 120]), class: "rounded-full border-2 border-[#F97316] shadow-md mt-2" %>
        <% end %>
      </div>
    </div>

    <!-- Bio -->
    <% if @vendor.bio.present? %>
      <div>
        <h3 class="text-lg font-semibold text-gray-700 mb-2">Bio</h3>
        <p class="text-gray-600"><%= @vendor.bio %></p>
      </div>
    <% end %>

    <!-- Actions -->
    <div class="mt-4 flex flex-wrap gap-2">
      <% if @vendor.pending_approval? %>
        <%= form_with url: approve_admin_vendor_path(@vendor), method: :patch, local: true do |f| %>
          <%= f.submit "Approve", class: "px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition" %>
        <% end %>

        <%= form_with url: reject_admin_vendor_path(@vendor), method: :patch, local: true do |f| %>
          <%= f.submit "Reject", class: "px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition" %>
        <% end %>
      <% end %>

      <%= link_to "Back to Vendors", admin_vendors_path, class: "px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition" %>
    </div>

  </div>
</div>
