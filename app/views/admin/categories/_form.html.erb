<%= form_with model: [:admin, category], local: true do |form| %>
  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :parent_id, "Parent Category (optional)" %>
    <%= form.collection_select :parent_id, Category.where(parent_id: nil).where.not(id: category.id), :id, :name, { include_blank: "None" }, class: "form-control" %>
  </div>

  <div class="form-actions">
    <%= form.submit category.persisted? ? "Update Category" : "Create Category", class: "btn btn-primary" %>
    <%= link_to "Cancel", admin_categories_path, class: "btn btn-secondary" %>
  </div>
<% end %>
