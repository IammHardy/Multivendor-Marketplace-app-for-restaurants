<main class="bg-gray-50 min-h-screen px-6 py-12">

  <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-lg p-8">
    <h1 class="text-3xl font-bold text-red-600 mb-6 text-center">Checkout</h1>

    <% if @cart_items.any? %>
      <div class="space-y-4 mb-6">
        <% @cart_items.each do |item| %>
          <div class="flex justify-between items-center p-4 bg-red-50 rounded-lg shadow-sm">
            <div>
              <h3 class="font-semibold text-red-600"><%= item.food.name %></h3>
              <p class="text-gray-700">Quantity: <%= item.quantity %> x ₦<%= number_to_currency(item.food.price, unit: "", precision: 0) %></p>
            </div>
            <p class="font-bold">₦<%= number_to_currency(item.food.price * item.quantity, unit: "", precision: 0) %></p>
          </div>
        <% end %>
      </div>

      <div class="text-right font-bold text-xl mb-6">
        Total: ₦<%= number_to_currency(@grand_total, unit: "", precision: 0) %>
      </div>

      <%= form_with url: paystack_checkout_path, method: :post, class: "text-center" do %>
        <%= hidden_field_tag :amount, @grand_total %>
        <%= submit_tag "Proceed to Pay", class: "bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-500 transition font-semibold" %>
      <% end %>
    <% else %>
      <p class="text-gray-500 text-center">Your cart is empty.</p>
      <div class="mt-6 text-center">
        <%= link_to "Back to Menu", foods_path, class: "text-red-600 hover:underline font-semibold" %>
      </div>
    <% end %>

  </div>

</main>
